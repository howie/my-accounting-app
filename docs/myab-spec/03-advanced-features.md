# 進階功能

## 3.1 分期付款

### 功能描述
一次產生多筆分期記錄，適用於分期付款或需要批次建立重複記錄的情境。

### 操作步驟
1. 輸入基本資訊（設定科目等相關資料）
2. 金額欄填入「單期金額」（非總額），例如 1000 元
3. 點擊分期付款按鈕
4. 輸入總期數（如 12 期）
5. 設定期間間隔（預設為 1 個月，可調整為 2 個月等）
6. 按下新增按鈕後，系統一次產生多筆記錄

### 參數設定

| 參數名稱 | 類型 | 必填 | 說明 |
|---------|------|------|------|
| 單期金額 | 數字 | 是 | 每期應付金額 |
| 總期數 | 數字 | 是 | 分期總共幾期 |
| 期間間隔 | 數字 | 是 | 每期間隔時間（預設 1 個月） |
| 開始日期 | 日期 | 是 | 第一期的日期 |

### 使用範例

#### 範例一：信用卡分 12 期
```
科目：L-信用卡 → E-購物
單期金額：1000
總期數：12
期間間隔：1 個月
開始日期：2024/01/15

結果：產生 12 筆記錄
- 2024/01/15：1000 元
- 2024/02/15：1000 元
- ...
- 2024/12/15：1000 元
```

#### 範例二：每兩個月繳費
```
單期金額：5000
總期數：6
期間間隔：2 個月
開始日期：2024/01/01

結果：產生 6 筆記錄
- 2024/01/01：5000 元
- 2024/03/01：5000 元
- 2024/05/01：5000 元
- 2024/07/01：5000 元
- 2024/09/01：5000 元
- 2024/11/01：5000 元
```

### 業務規則
- 金額欄填入的是「單期金額」而非總額
- 期間間隔可自訂（如 1 個月、2 個月、3 個月等）
- 系統依據開始日期和間隔自動計算後續日期
- 產生的記錄可以個別編輯或刪除
- 此功能不只能用在分期付款，需要一次新增多筆記錄的情況都適用

### 使用場景
- 信用卡分期付款
- 定期繳費（但建議使用定期記錄功能）
- 預先建立未來固定支出
- 批次建立測試資料

### 注意事項
- 產生後的記錄是獨立的，修改一筆不會影響其他筆
- 如需修改所有期數，需要逐筆編輯或刪除重建

---

## 3.2 定期記錄

### 功能描述
設定週期性自動產生的記錄，適用於固定週期的收入或支出。

### 操作步驟
1. 點選圖示進入定期記錄功能
2. 設定記錄的基本資訊（科目、金額、明細等）
3. 設定重複頻率（週期/時間選項）
4. 可勾選「逾期補登選項」
5. 確認儲存

### 週期設定選項

| 週期類型 | 說明 | 範例 |
|---------|------|------|
| 每日 | 每天產生記錄 | 每日通勤費 |
| 每週 | 每週特定日期產生 | 每週三繳費 |
| 每月 | 每月特定日期產生 | 每月 5 日薪水 |
| 每年 | 每年特定日期產生 | 生日、保險費 |

### 定期記錄欄位

| 欄位名稱 | 類型 | 必填 | 說明 |
|---------|------|------|------|
| 記錄名稱 | 文字 | 是 | 識別此定期記錄 |
| 交易內容 | 完整交易 | 是 | 科目、金額、明細等 |
| 週期類型 | 選項 | 是 | 每日/每週/每月/每年 |
| 觸發日期/時間 | 日期/時間 | 是 | 何時產生記錄 |
| 逾期補登 | 布林值 | 否 | 是否在逾期時提示補登 |
| 結束日期 | 日期 | 否 | 定期記錄的結束日期 |

### 逾期補登功能

#### 功能說明
當啟用逾期補登時，若未在設定日期開啟軟體，系統會在後續期間提示補登訊息。

#### 使用場景
- 避免漏記固定支出
- 提醒逾期未記錄的交易

### 使用範例

#### 範例一：每月薪資
```
記錄名稱：月薪
交易類型：收入
進帳從：I-薪資
到科目：A-銀行帳戶
金額：30000
週期：每月 5 日
逾期補登：是
```

#### 範例二：每月房租
```
記錄名稱：房租
交易類型：支出
支付給：E-房租
從科目：A-銀行帳戶
金額：15000
週期：每月 1 日
逾期補登：是
```

#### 範例三：年度保險費
```
記錄名稱：車險
交易類型：支出
支付給：E-保險
從科目：A-銀行帳戶
金額：20000
週期：每年 3/15
逾期補登：是
```

### 業務規則
- 軟體在設定時間自動產生記錄
- 需要開啟軟體才會觸發定期記錄
- 逾期補登會在下次開啟時提示
- 定期記錄產生後成為一般交易記錄，可編輯或刪除
- 修改定期記錄設定不會影響已產生的交易

### 管理定期記錄
- 可以暫停定期記錄（不刪除設定）
- 可以修改定期記錄的內容
- 可以設定結束日期
- 可以刪除定期記錄設定

---

## 3.3 標記功能

### 功能描述
標註特定交易記錄以便後續識別和篩選。標記的用途由使用者自行定義。

### 標記記錄

#### 操作步驟
1. 在記錄清單中找到要標記的記錄
2. 在標記欄位勾選該記錄
3. 系統自動儲存標記狀態

### 搜尋標記記錄

#### 操作步驟
1. 在搜尋列的下拉式選單內選擇「#勾選標記」
2. 按搜尋按鈕
3. 軟體僅列出已勾選標記的記錄

### 使用場景

#### 場景一：待核對記錄
- 標記尚未取得發票的消費
- 標記需要與信用卡帳單核對的刷卡記錄
- 標記待確認金額的交易

#### 場景二：特殊性質支出
- 標記可報稅的醫療支出
- 標記公司可報帳的費用
- 標記需要分攤的共同支出

#### 場景三：追蹤待辦事項
- 標記待退貨的商品
- 標記待收款的應收帳款
- 標記待處理的異常交易

### 業務規則
- 標記功能的定義由用戶決定
- 一筆記錄只有「已標記」或「未標記」兩種狀態
- 標記不影響報表統計
- 可隨時新增或移除標記
- 標記狀態會保留在備份中

### 批次標記操作
- 可選擇多筆記錄同時標記
- 可選擇多筆記錄同時移除標記

---

## 3.4 明細清單

### 功能描述
儲存常用明細以提高記帳效率，避免重複輸入相同的明細內容。

### 建立明細

#### 操作步驟
1. 點擊相應選項進入明細管理
2. 按下新增按鈕
3. 輸入明細內容
4. 選擇所屬科目（或設為共用）
5. 確認儲存

### 明細分類

#### 科目別明細
- 綁定特定科目
- 僅在該科目記帳時顯示
- 範例：E-餐飲費的明細（早餐、午餐、晚餐、下午茶）

#### 共用明細
- 未分類的明細屬於共用類別
- 所有科目都可使用
- 範例：地點名稱、商店名稱

### 使用明細

#### 記帳時使用
1. 新增記錄時，在明細欄點擊下拉選單
2. 從清單中選擇已建立的明細
3. 系統自動填入明細內容

#### 搜尋時使用
1. 在搜尋欄選擇明細選項
2. 選擇特定明細
3. 系統列出所有包含該明細的記錄

### 明細範例

#### 餐飲費明細（科目別）
- 早餐
- 午餐
- 晚餐
- 下午茶
- 宵夜
- 聚餐

#### 交通費明細（科目別）
- 捷運
- 公車
- 計程車
- 停車費
- 加油
- 過路費

#### 地點明細（共用）
- 家樂福
- 全聯
- 7-11
- 星巴克
- 台北101

### 業務規則
- 明細清單獨立於交易記錄儲存
- 科目別明細僅在對應科目顯示
- 共用明細在所有科目都可使用
- 可隨時新增、編輯、刪除明細
- 刪除明細不影響已有的交易記錄

### 管理明細清單
- 新增明細
- 編輯明細內容
- 刪除不需要的明細
- 將明細從科目別改為共用（或相反）

---

## 3.5 預算提醒

### 功能描述
設定預算並在超標或未達標時發出警告，協助控制支出和管理財務目標。

### 操作步驟
1. 點選指定圖示以啟動預算設定介面
2. 選擇預算時間維度（月份或年度）
3. 選擇要設定預算的科目
4. 輸入預算金額
5. 確認儲存

### 預算設定方式

#### 按月份設定
- 為每個月份分別設定預算
- 可設定不同月份的不同預算
- 範例：12月購物預算較高，其他月份較低

#### 按年度設定
- 為整年度設定總預算
- 系統追蹤全年累積金額
- 範例：年度娛樂支出預算 50,000 元

### 預算欄位

| 欄位名稱 | 類型 | 必填 | 說明 |
|---------|------|------|------|
| 預算名稱 | 文字 | 是 | 識別此預算 |
| 科目 | 科目選擇 | 是 | 要追蹤的科目 |
| 時間維度 | 選項 | 是 | 月份/年度 |
| 預算金額 | 數字 | 是 | 預算額度 |
| 警告閾值 | 百分比 | 否 | 達到多少百分比時警告 |

### 提醒機制

#### 資產帳戶
- **觸發條件**：資產額度低於預算時
- **用途**：確保最低資產水平
- **範例**：銀行存款不低於 50,000 元

#### 負債帳戶
- **觸發條件**：負債超過預算時
- **用途**：控制債務水平
- **範例**：信用卡債務不超過 30,000 元

#### 收入帳戶
- **觸發條件**：收入未達預算目標時
- **用途**：追蹤收入目標達成率
- **範例**：月收入目標 40,000 元

#### 支出帳戶
- **觸發條件**：支出超過預算額度時
- **用途**：控制支出不超支
- **範例**：月餐飲費預算 8,000 元

### 使用範例

#### 範例一：控制餐飲支出
```
預算名稱：每月餐飲預算
科目：E-餐飲費
時間維度：月份
預算金額：8000
警告閾值：80%

效果：
- 支出達 6400 元時（80%）：警告提示
- 支出超過 8000 元時：超支警告
```

#### 範例二：確保銀行存款
```
預算名稱：銀行存款最低額
科目：A-銀行帳戶
時間維度：月份
預算金額：50000

效果：
- 餘額低於 50000 元時：發出警告
```

#### 範例三：控制年度娛樂支出
```
預算名稱：年度娛樂預算
科目：E-娛樂費
時間維度：年度
預算金額：60000

效果：
- 全年支出接近或超過 60000 元時：警告
```

### 業務規則
- 系統會根據選定的月份與帳戶類型進行評估
- 依帳戶類型判斷是否達到預警條件
- 預算設定不影響實際記帳
- 可隨時修改或停用預算設定
- 預算警告不會阻止記帳操作

### 預算報表
- 顯示預算執行情況
- 顯示已用百分比
- 顯示剩餘預算
- 支援月度和年度檢視

---

## 相關功能

- 基本記帳操作請參閱 [記帳功能](./02-transaction-management.md)
- 財務報表檢視請參閱 [報表與分析](./04-reports-analysis.md)
- 實際使用範例請參閱 [記帳場景](./06-use-cases.md)
