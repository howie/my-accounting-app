# 記帳功能

## 2.1 新增資料

### 功能描述

新增交易記錄，記錄收入、支出或轉帳交易。

### 操作步驟

1. 點擊指定按鈕啟動新增功能
2. 輸入交易詳情
3. 選擇付款方式選項（如信用卡、現金等）
4. 按下「新增」按鈕確認記錄
5. 可繼續新增其他記錄，或點「完成」結束流程

### 資料欄位

#### 基本交易欄位

| 欄位名稱      | 類型 | 必填 | 說明                                  |
| ------------- | ---- | ---- | ------------------------------------- |
| 日期          | 日期 | 是   | 交易發生日期                          |
| 交易類型      | 選項 | 是   | 支出/收入/轉帳                        |
| 支付給/進帳從 | 科目 | 是   | 收支科目（如 E-餐飲費、I-薪資）       |
| 從科目/到科目 | 科目 | 是   | 資產或負債科目（如 A-現金、L-信用卡） |
| 金額          | 數字 | 是   | 交易金額                              |
| 明細          | 文字 | 否   | 交易說明或備註                        |
| 發票號碼      | 文字 | 否   | 統一發票號碼（僅數字部分）            |

### 使用範例

#### 現金消費

```
交易類型：支出
支付給：E-餐飲費
從科目：A-現金
金額：50
明細：午餐費
```

#### 銀行轉帳消費

```
交易類型：支出
支付給：E-網路購物
從科目：A-銀行帳戶
金額：1500
明細：網路購物
```

#### 薪資收入

```
交易類型：收入
進帳從：I-薪資
到科目：A-銀行帳戶
金額：30000
明細：月薪
```

#### 帳戶轉帳

```
交易類型：轉帳
轉換到：A-銀行存款
從科目：A-現金
金額：10000
明細：存錢
```

### 業務規則

- 日期可選擇過去或未來日期
- 金額必須大於 0（負數交易請參考特殊處理）
- 科目必須事先在科目設定中建立
- 發票號碼僅輸入數字部分，不含英文字母

---

## 2.2 快速入帳

### 功能描述

儲存常用交易樣本並快速套用，提高重複性交易的記帳效率。

### 建立快速入帳記錄

#### 操作步驟

1. 準備好欲儲存的交易資料（填入所有欄位）
2. 按下「<<」按鈕將該筆資料加入快速入帳庫
3. 系統儲存該筆交易的所有欄位內容

### 使用快速入帳

#### 操作步驟

1. 進入快速入帳功能
2. 從清單中選擇一筆先前建立的記錄
3. 按下「套用」按鈕
4. 系統自動填入該筆記錄的內容
5. 可修改日期或金額等欄位
6. 按下新增確認

### 業務規則

- 快速入帳記錄會儲存所有欄位資訊
- 套用後可以修改任何欄位
- 適合每月固定支出（如房租、電話費等）
- 快速入帳記錄獨立於交易記錄儲存

### 使用場景

- 每月房租
- 固定訂閱服務
- 常去的餐廳消費
- 固定的交通路線費用

---

## 2.3 編輯資料

### 功能描述

修改已輸入的交易記錄。

### 編輯單筆資料

#### 操作步驟

1. 在要編輯的資料上點兩下
2. 修改需要變更的欄位
3. 按「變更」按鈕確認修改

### 編輯多筆資料

#### 操作步驟

1. 選擇要編輯的多筆資料（可使用 Ctrl 或 Shift 鍵複選）
2. 滑鼠右鍵選擇編輯選項
3. 標記要修改的欄位
4. 輸入新的值
5. 按確定完成批次修改

### 可編輯欄位

- 日期
- 科目
- 金額
- 明細
- 發票號碼

### 業務規則

- 編輯後會影響相關報表和統計
- 資產/負債餘額會自動重新計算
- 無編輯歷史記錄功能

---

## 2.4 刪除資料

### 功能描述

刪除不需要的交易記錄。

### 操作步驟

1. 選擇要刪除的資料（可複選）
2. 按下刪除資料按鈕（或按 Delete 鍵）
3. 確認刪除

### 業務規則

- 刪除後無法復原（除非從備份還原）
- 可一次選擇多筆資料刪除
- 刪除後會自動更新相關科目餘額
- 刪除會影響報表統計結果

### 注意事項

- 建議在刪除大量資料前先備份
- 確認選擇的資料正確後再刪除

---

## 2.5 刪除多筆資料

### 功能描述

批次刪除符合特定條件的記錄。

### 操作步驟

1. 按下對應的選項按鈕進入刪除多筆資料模式
2. 設定刪除條件（如日期範圍、科目等）
3. 預覽符合條件的資料
4. 確認後按刪除執行

### 刪除條件選項

- 日期範圍
- 特定科目
- 金額範圍
- 明細關鍵字

### 使用場景

- 清理測試資料
- 刪除特定時期的所有記錄
- 刪除特定科目的所有交易
- 年度結帳前清理舊資料

### 業務規則

- 建議使用結帳功能代替直接刪除
- 刪除前應先備份
- 刪除後無法復原

---

## 2.6 金額欄計算功能

### 功能描述

金額欄位支援直接計算，方便複雜金額的輸入（3.3.8版後可用）。

### 基本運算步驟

1. 輸入首個數字（如 50）
2. 選擇運算符：
   - 加法：按下鍵盤的「+」鍵
   - 減法：按下鍵盤的「-」鍵
   - 乘法：按下鍵盤的「\*」鍵
   - 除法：按下鍵盤的「/」鍵
3. 輸入次個數字（如 40）
4. 按 Enter 鍵執行計算
5. 系統自動顯示計算結果

### 使用範例

#### 加法計算

```
輸入：50 + 40 [Enter]
結果：90
```

#### 減法計算

```
輸入：100 - 25 [Enter]
結果：75
```

#### 乘法計算

```
輸入：15 * 3 [Enter]
結果：45
```

#### 除法計算

```
輸入：200 / 4 [Enter]
結果：50
```

### 負數輸入規則

#### 情況一：金額為 0 時

- 按減號鍵（-）會產生負號
- 後續輸入數字將為負數
- 範例：- 100 = -100

#### 情況二：金額非 0 時

- 按減號鍵視為減法運算
- 範例：50 - 20 = 30

### 其他操作

- **清零**：按 Esc 鍵可將金額清為 0
- **重新輸入**：按 Esc 後重新輸入

### 支援的運算

- ✓ 加法（+）
- ✓ 減法（-）
- ✓ 乘法（\*）
- ✓ 除法（/）
- ✗ 不支援括號
- ✗ 不支援連續運算

### 使用場景

- 計算多項消費總額
- 分攤費用計算
- AA制計算
- 單價 × 數量

### 版本需求

- MyAB 3.3.8 版或更高版本

---

## 2.7 資料搜尋與篩選

### 功能描述

快速找到特定交易記錄。

### 搜尋選項

1. **依明細搜尋**：輸入關鍵字搜尋明細欄位
2. **依科目搜尋**：選擇特定科目查看該科目的所有交易
3. **依日期範圍搜尋**：設定起始和結束日期
4. **依標記搜尋**：選擇「#勾選標記」顯示已標記的記錄

### 操作步驟

1. 在搜尋列選擇搜尋條件
2. 輸入搜尋關鍵字或選擇選項
3. 按下搜尋按鈕
4. 系統顯示符合條件的記錄

### 業務規則

- 搜尋結果可以進行編輯和刪除
- 可以對搜尋結果進行統計

---

## 交易類型說明

### 支出交易

- **資金流向**：從資產科目流向支出科目
- **效果**：減少資產或增加負債
- **範例**：A-現金 → E-餐飲費

### 收入交易

- **資金流向**：從收入科目流向資產科目
- **效果**：增加資產或減少負債
- **範例**：I-薪資 → A-銀行帳戶

### 轉帳交易

- **資金流向**：資產/負債科目之間的轉移
- **效果**：不影響淨資產，僅改變資產組成
- **範例**：A-現金 → A-銀行存款

---

## 相關功能

- 分期付款記錄請參閱 [進階功能 - 分期付款](./03-advanced-features.md#31-分期付款)
- 定期記錄設定請參閱 [進階功能 - 定期記錄](./03-advanced-features.md#32-定期記錄)
- 實際記帳範例請參閱 [記帳場景](./06-use-cases.md)
